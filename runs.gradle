sourceSets {
	test {
		compileClasspath += sourceSets.main.compileClasspath
		runtimeClasspath += sourceSets.main.runtimeClasspath
	}

	bedrockify {
		compileClasspath += sourceSets.main.compileClasspath
		runtimeClasspath += sourceSets.main.runtimeClasspath
	}

	bedrockifyTest {
		compileClasspath += sourceSets.bedrockify.compileClasspath
		runtimeClasspath += sourceSets.bedrockify.runtimeClasspath
		compileClasspath += sourceSets.test.compileClasspath
		runtimeClasspath += sourceSets.test.runtimeClasspath
	}

	enhancedblockentities {
		compileClasspath += sourceSets.main.compileClasspath
		runtimeClasspath += sourceSets.main.runtimeClasspath
	}

	enhancedblockentitiesTest {
		compileClasspath += sourceSets.enhancedblockentities.compileClasspath
		runtimeClasspath += sourceSets.enhancedblockentities.runtimeClasspath
		compileClasspath += sourceSets.test.compileClasspath
		runtimeClasspath += sourceSets.test.runtimeClasspath
	}

	sodium {
		compileClasspath += sourceSets.main.compileClasspath
		runtimeClasspath += sourceSets.main.runtimeClasspath
	}

	sodiumTest {
		compileClasspath += sourceSets.sodium.compileClasspath
		runtimeClasspath += sourceSets.sodium.runtimeClasspath
		compileClasspath += sourceSets.test.compileClasspath
		runtimeClasspath += sourceSets.test.runtimeClasspath
	}

	indium {
		compileClasspath += sourceSets.sodium.compileClasspath
		runtimeClasspath += sourceSets.sodium.runtimeClasspath
	}

	indiumTest {
		compileClasspath += sourceSets.indium.compileClasspath
		runtimeClasspath += sourceSets.indium.runtimeClasspath
		compileClasspath += sourceSets.sodiumTest.compileClasspath
		runtimeClasspath += sourceSets.sodiumTest.runtimeClasspath
	}
}

loom {
	runs {
		testClient {
			inherit client
			source 'test'
		}

		bedrockifyClient {
			inherit client
			source 'bedrockify'
		}

		bedrockifyTestClient {
			inherit testClient
			source 'bedrockifyTest'
		}

		enhancedblockentitiesClient {
			inherit client
			source 'enhancedblockentities'
		}

		enhancedblockentitiesTestClient {
			inherit testClient
			source 'enhancedblockentitiesTest'
		}

		sodiumClient {
			inherit client
			source 'sodium'
		}

		sodiumTestClient {
			inherit testClient
			source 'sodiumTest'
		}

		indiumClient {
			inherit client
			source 'indium'
		}

		indiumTestClient {
			inherit sodiumTestClient
			source 'indiumTest'
		}

		remove server
	}

	createRemapConfigurations sourceSets.test
	createRemapConfigurations sourceSets.bedrockify
	createRemapConfigurations sourceSets.bedrockifyTest
	createRemapConfigurations sourceSets.enhancedblockentities
	createRemapConfigurations sourceSets.enhancedblockentitiesTest
	createRemapConfigurations sourceSets.sodium
	createRemapConfigurations sourceSets.sodiumTest
	createRemapConfigurations sourceSets.indium
	createRemapConfigurations sourceSets.indiumTest
}
